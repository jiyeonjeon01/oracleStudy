CREATE TABLE MAJOR (
    MAJOR_CODE VARCHAR2(10) PRIMARY KEY,
    MAJOR_NAME VARCHAR2(20) NOT NULL
);
SELECT *
FROM USER_CONSTRAINTS 
WHERE TABLE_NAME='MAJOR';

CREATE TABLE STUDENT_GRADE (
    STUDENT_NO NUMBER PRIMARY KEY,
    STUDENT_NAME VARCHAR(10) NOT NULL,
    KOREAN NUMBER DEFAULT 0 NOT NULL,
    ENGLISH NUMBER DEFAULT 0 NOT NULL,
    MATH NUMBER DEFAULT 0 NOT NULL,
    SUM NUMBER DEFAULT 0,
    AVG NUMBER DEFAULT 0,
    MAJOR_CODE VARCHAR2(10),
    CONSTRAINT fk_major_code FOREIGN KEY (MAJOR_CODE) REFERENCES MAJOR(MAJOR_CODE)
);
SELECT *
FROM USER_CONSTRAINTS 
WHERE TABLE_NAME='STUDENT_GRADE';


INSERT INTO MAJOR VALUES ('S101', '컴퓨터공학과');
INSERT INTO MAJOR VALUES ('S102', '게임개발학과');
INSERT INTO MAJOR VALUES ('E201', '경영학과');
INSERT INTO MAJOR VALUES ('E202', '경제학과');
INSERT INTO MAJOR VALUES ('N301', '화학공학과');
INSERT INTO MAJOR VALUES ('N302', '생명공학과');
SELECT * FROM MAJOR;

INSERT INTO STUDENT_GRADE VALUES ('202010101', '전지연', 70, 80, 90, 240, 80, 'S101');
INSERT INTO STUDENT_GRADE VALUES ('201910202', '홍길동', 10, 20, 30, 60, 20, 'S102');
INSERT INTO STUDENT_GRADE VALUES ('201420103', '이몽룡', 20, 30, 40, 90, 30, 'E201');
INSERT INTO STUDENT_GRADE VALUES ('202320204', '성춘향', 30, 40, 50, 120, 40, 'E202');
INSERT INTO STUDENT_GRADE VALUES ('201830105', '콩쥐', 40, 50, 60, 150, 50, 'N301');
INSERT INTO STUDENT_GRADE VALUES ('202430206', '팥쥐', 50, 60, 70, 180, 60, 'N302');
INSERT INTO STUDENT_GRADE VALUES ('201640107', '라푼젤', 60, 70, 80, 210, 70, 'S101');
SELECT * FROM STUDENT_GRADE;

SELECT 
    S.STUDENT_NO, 
    S.STUDENT_NAME, 
    S.KOREAN, 
    S.ENGLISH, 
    S.MATH, 
    S.SUM, 
    S.AVG, 
    S.MAJOR_CODE, 
    M.MAJOR_NAME
FROM STUDENT_GRADE S
JOIN MAJOR M 
ON S.MAJOR_CODE = M.MAJOR_CODE;
